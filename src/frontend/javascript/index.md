---
title: JavaScript基础
next: 
  text: JavaScript数据类型
  link: ./datatype
---
# JavaScirpt基础

整理了一些关于JavaScript的学习笔记，内容主要来自：[https://zh.javascript.info/](https://zh.javascript.info/)



## 使用JS

**"Script标签"**

我们几乎可以使用 `<script>` 标签将 JavaScript 程序插入到 HTML 文档的任何位置。

```js
<script>
    alert('Hello, world!');
</script>
```

**外部脚本**

如果你有大量的 JavaScript 代码，我们可以将它放入一个单独的文件。脚本文件可以通过 `src` 特性（attribute）添加到 HTML 文件中。

```js
<script src="/path/to/script.js"></script>

<script src="https://exmaple.com/xxx.js"></script>
```

::: warning

一个单独的 `<script>` 标签不能同时有 `src` 特性和内部包裹的代码。

```js
<script src="file.js">
  alert(1); // 此内容会被忽略，因为设定了 src
</script>
```



:::



---

## 代码结构

1. 通常，每条语句独占一行，以提高代码的可读性

2. 当存在换行符（line break）时，大部分时候可以省略分号，但是最好不要省略分号，尤其对新手来说。

3. **不支持注释嵌套！**

   ```js
   // 这行注释独占一行
   alert('Hello');
   
   alert('World'); // 这行注释跟随在语句后面
   
   /* 两个消息的例子。
   这是一个多行注释。
   */
   ```

   

---

## 变量

我们可以使用 `var`、`let` 或 `const` 声明变量来存储数据。

- `let` — 现代的变量声明方式。
- `var` — 老旧的变量声明方式。一般情况下，我们不会再使用它。
- `const` — 类似于 `let`，但是变量的值无法被修改。

**变量命名：**

JavaScript 的变量命名有两个限制：

1. 变量名称必须仅包含字母、数字、符号 `$` 和 `_`。
2. 首字符必须非数字。

:::  info

**区分大小写**

命名为 `apple` 和 `APPLE` 的变量是不同的两个变量。

:::



---

## 数据类型

JavaScript 中的值都具有特定的类型。例如，字符串或数字。

在 JavaScript 中有 8 种基本的数据类型（译注：7 种原始类型和 1 种引用类型），但是你定义的变量并不会在定义后，被限制为某一数据类型。

- 七种原始数据类型（基本数据类型）：
  - `number` 用于任何类型的数字：整数或浮点数，在 `±(253-1)` 范围内的整数。
  - `bigint` 用于任意长度的整数。
  - `string` 用于字符串：一个字符串可以包含 0 个或多个字符，所以没有单独的单字符类型。
  - `boolean` 用于 `true` 和 `false`。
  - `null` 用于未知的值 —— 只有一个 `null` 值的独立类型。
  - `undefined` 用于未定义的值 —— 只有一个 `undefined` 值的独立类型。
  - `symbol` 用于唯一的标识符。
- 以及一种非原始数据类型（复杂数据类型）：
  - `object` 用于更复杂的数据结构。



### Number类型：

*number* 类型代表整数和浮点数。

除了常规的数字，还包括所谓的“特殊数值（“special numeric values”）”也属于这种类型：`Infinity`、`-Infinity` 和 `NaN`。

::: tip

“number” 类型可以存储更大的整数（最多 `1.7976931348623157 * 10308`），但超出安全整数范围 `±(253-1)` 会出现精度问题，因为并非所有数字都适合固定的 64 位存储。因此，可能存储的是“近似值”。

:::



### String类型：

在 JavaScript 中，有三种包含字符串的方式。

1. 双引号：`"Hello"`.
2. 单引号：`'Hello'`.
3. 反引号：``Hello``.

双引号和单引号都是“简单”引用，在 JavaScript 中两者几乎没有什么差别。

反引号是 **功能扩展** 引号。它们允许我们通过将变量和表达式包装在 `${…}` 中，来将它们嵌入到字符串中。



### Boolean类型：

boolean 类型仅包含两个值：`true` 和 `false`。



### null值：

特殊的 `null` 值不属于上述任何一种类型。

它构成了一个独立的类型，只包含 `null` 值：

相比较于其他编程语言，JavaScript 中的 `null` 不是一个“对不存在的 `object` 的引用”或者 “null 指针”。

JavaScript 中的 `null` 仅仅是一个代表“无”、“空”或“值未知”的特殊值。



### undefined值：

特殊值 `undefined` 和 `null` 一样自成类型。

`undefined` 的含义是 `未被赋值`。

如果一个变量已被声明，但未被赋值，那么它的值就是 `undefined`

通常，使用 `null` 将一个“空”或者“未知”的值写入变量中，而 `undefined` 则保留作为未进行初始化的事物的默认初始值。



### Object类型和Symbol类型：

`object` 类型是一个特殊的类型。

其他所有的数据类型都被称为“原始类型”，因为它们的值只包含一个单独的内容（字符串、数字或者其他）。相反，`object` 则用于储存数据集合和更复杂的实体。

`symbol` 类型用于创建对象的唯一标识符。

### typeof运算符

我们可以通过 `typeof` 运算符查看存储在变量中的数据类型。

- 通常用作 `typeof x`，但 `typeof(x)` 也可行。
- 以字符串的形式返回类型名称，例如 `"string"`。
- `typeof null` 会返回 `"object"` —— 这是 JavaScript 编程语言的一个错误，实际上它并不是一个 `object`。



---



## 类型转换

有三种常用的类型转换：转换为 string 类型、转换为 number 类型和转换为 boolean 类型。

**字符串转换** —— 转换发生在输出内容的时候，也可以通过 `String(value)` 进行显式转换。原始类型值的 string 类型转换通常是很明显的。

**数字型转换** —— 转换发生在进行算术操作时，也可以通过 `Number(value)` 进行显式转换。

数字型转换遵循以下规则：

| 值           | 变成……                                                       |
| :----------- | :----------------------------------------------------------- |
| `undefined`  | `NaN`                                                        |
| `null`       | `0`                                                          |
| `true/false` | `1 / 0`                                                      |
| `string`     | “按原样读取”字符串，两端的空白字符（空格、换行符 `\n`、制表符 `\t` 等）会被忽略。空字符串变成 `0`。转换出错则输出 `NaN`。 |

**布尔型转换** —— 转换发生在进行逻辑操作时，也可以通过 `Boolean(value)` 进行显式转换。

布尔型转换遵循以下规则：

| 值                                    | 变成……  |
| :------------------------------------ | :------ |
| `0`, `null`, `undefined`, `NaN`, `""` | `false` |
| 其他值                                | `true`  |



---



## 运算符

通常，加号 `+` 用于求和。但是如果加号 `+` 被应用于字符串，它将合并（连接）各个字符串

::: warning

自增/自减只能应用于变量。试一下，将其应用于数值（比如 `5++`）则会报错。

:::



---

## 值的比较

1. 比较的结果为`Boolean`类型

2. **字符串比较**：在比较字符串的大小时，JavaScript 会使用“字典（dictionary）”或“词典（lexicographical）”顺序进行判定。换言之，字符串是按字符（母）逐个进行比较的。

3. **不同类型间的比较**：当对不同类型的值进行比较时，JavaScript 会首先将其转化为数字（number）再判定大小。
4.  **严格相等**：普通的相等性检查 `==` 存在一个问题，它不能区分出 `0` 和 `false`。严格相等`===`可以。严格相等运算符 `===` 在进行比较时不会做任何的类型转换。同样的，与“不相等”符号 `!=` 类似，“严格不相等”表示为 `!==`。
5. 在使用 `>` 或 `<` 进行比较时，需要注意变量可能为 `null/undefined` 的情况。比较好的方法是单独检查变量是否等于 `null/undefined`。



---

## 函数

### **函数声明**

函数声明方式如下所示：

```javascript
function name(parameters, delimited, by, comma) {
  /* code */
}
```

- 作为参数传递给函数的值，会被复制到函数的局部变量。
- 函数可以访问外部变量。但它只能从内到外起作用。函数外部的代码看不到函数内的局部变量。
- 函数可以返回值。如果没有返回值，则其返回的结果是 `undefined`。

::: danger

**不要在** `return` **与返回值之间添加新行**,因为 JavaScript 默认会在 `return` 之后加上分号。

```javascript
return; // [!code focus]
 (some + long + expression + or + whatever * f(a) + f(b))
```

因此，实际上它的返回值变成了空值。

:::



### **函数表达式**

```js
let sayHi = function() {
    alert( "Hello" )
}; // 建议在语句末尾加上分号 ;
```

在 JavaScript 中，函数是一个值，无论函数是如何创建的，函数都是一个值。所以我们可以把它当成值对待。

将一个函数当作参数传入时则将被传入的函数成为**回调函数**

如果该函数是作为表达式的一部分创建的，则称其“函数表达式”。

函数表达式在执行流程到达时创建。



### **箭头函数**

```js
let sum = (a, b) => a + b;

/* 这个箭头函数是下面这个函数的更短的版本：
let sum = function(a, b) {
	return a + b;
};
*/
```

如果我们只有一个参数，还可以省略掉参数外的圆括号，使代码更短。

```js
let double = n => n * 2
```

如果没有参数，括号则是空的（但是括号必须保留）：

```js
let sayHi = () => alert("Hello!");
```

多行的箭头函数

```js
let sum = (a, b) => {
    let result = a + b;
    return result;
};
```



---

